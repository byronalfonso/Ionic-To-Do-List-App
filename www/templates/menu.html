<ion-side-menus enable-menu-with-back-views="false" class="todo-page">
  
  <!-- SIDE MENU -->

  <ion-side-menu side="left">    
    <ion-header-bar class="bar-dark">
      <button class="button button-icon ion-minus" ng-click="toggleDeleteFolder()">
      </button>
      <h1 class="title">Projects</h1>
      <button class="button button-icon ion-plus" ng-click="openAddFolderModal()">
      </button>
    </ion-header-bar>

    <ion-content>    
      <!-- <ion-list>
        <ion-item menu-close ng-repeat="folder in folders" ng-click="selectFolder($index)">
          {{folder.title}}
        </ion-item>
      </ion-list> -->
      
      <ion-list show-delete="shouldShowDelete" show-reorder="shouldShowReorder" can-swipe="foldersCanSwipe">
        <ion-item ng-repeat="folder in folders" ng-click="selectFolder($index)" class="item item-icon-right">            
                   
          {{folder.title}}          
          <i class="icon ion-edit" ng-click="editFolder($event, $index)"></i>

          <ion-delete-button class="ion-minus-circled"
            ng-click="deleteFolder($index)">
          </ion-delete-button>

        </ion-item>
      </ion-list>






    </ion-content>
  </ion-side-menu>

  <!-- SIDE MENU CONTENT-->
  <ion-side-menu-content>

  <ion-header-bar class="bar-dark">
    <button class="button button-icon" menu-toggle="left">
      <i class="icon ion-navicon"></i>
    </button>

    <h1 class="title" ng-if="!activeFolder.title">TO DO APP</h1> 
    <h1 class="title" ng-if="activeFolder.title">{{activeFolder.title}}</h1>
    

    <!-- New Task button-->
    <button class="button button-icon" ng-click="newTask()">
      <i class="icon ion-compose"></i>
    </button>
  </ion-header-bar>

  <ion-content scroll="false">

    <ion-list ng-if="activeFolder.tasks">
      <ion-item ng-repeat="task in activeFolder.tasks">
        {{task.title}}
      </ion-item>
    </ion-list>
    
    <!-- <h4 ng-if="!activeFolder.tasks" style="text-align:center">
      Click on the menu to add a folder   
    </h4> -->

  </ion-content>

  </ion-side-menu-content>

</ion-side-menus>


<script id="add-folder-modal.html" type="text/ng-template">
  <ion-modal-view>
    <ion-header-bar>
      <h1 class="title">Add Folder</h1>
      <button class="button" ng-click="closeAddFolderModal()">
        Done
      </button>
    </ion-header-bar>
    <ion-content>
      <form ng-submit="createFolder(folder)">
        <div class="list">
          <label class="item item-input">
            <input type="text" placeholder="Enter the title of your folder" ng-model="folder.title">
          </label>
        </div>
        <div class="padding">
          <button type="submit" class="button button-block button-positive">Create Folder</button>
        </div>
      </form>
    </ion-content>
  </ion-modal-view>
</script>

<script id="edit-folder-modal.html" type="text/ng-template">
  <ion-modal-view>
    <ion-header-bar>
      <h1 class="title">Edit Folder</h1>
      <button class="button" ng-click="closeEditFolderModal()">
        Cancel
      </button>
    </ion-header-bar>
    <ion-content>
      <form ng-submit="updateFolder(folderToEdit.title)">
        <div class="list">
          <label class="item item-input">
            <input type="text" placeholder="Enter the title of your folder" ng-model="folderToEdit.title">
          </label>
        </div>
        <div class="padding">
          <button type="submit" class="button button-block button-positive">Save Changes</button>
        </div>
      </form>
    </ion-content>
  </ion-modal-view>
</script>